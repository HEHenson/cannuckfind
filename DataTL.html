
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>5 Transform and Load Data &#8212; CannuckFindReference 0.0.10 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="4 Functions to use GeoGrapy" href="C3GP.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <span class="target" id="module-inDat"></span><section id="transform-and-load-data">
<h1><span class="sectnum">5</span> Transform and Load Data<a class="headerlink" href="#transform-and-load-data" title="Permalink to this heading">¶</a></h1>
<p>The cannuckfind system will not perform the extraction rountine from the API of the social network.  Each application or situation will require its own Extraction Procedure.  They will likely be required to confirm to various institutional requirements with respect to privacy and copyright etc.  The libraries to start this are</p>
<section id="import-library">
<h2><span class="sectnum">5.1</span> Import Library<a class="headerlink" href="#import-library" title="Permalink to this heading">¶</a></h2>
<p>To use these features import the following from the cannuckfind.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">import libraries</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geolocation</span>
<span class="kn">from</span> <span class="nn">geolocation</span> <span class="kn">import</span> <span class="n">unknownC</span>
<span class="kn">import</span> <span class="nn">inDat</span>
</pre></div>
</div>
</div>
</section>
<section id="openfile">
<h2><span class="sectnum">5.2</span> OpenFile<a class="headerlink" href="#openfile" title="Permalink to this heading">¶</a></h2>
<p>The first step is to import the file extracted from the datasource.  It is presumed that the extract procedure has been prepared and will be unique to the source of data.  This extraction procedure will produce an external file that is assumed to be a large pandas dataframe.  The organization is assummed to be of a particular structure.  This structure
is documented in the Annex.</p>
<dl class="py class">
<dt class="sig sig-object py" id="inDat.inDat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">inDat.</span></span><span class="sig-name descname"><span class="pre">inDat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">101</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#inDat.inDat" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="inDat.inDat.SAMPSIZE">
<span class="sig-name descname"><span class="pre">SAMPSIZE</span></span><a class="headerlink" href="#inDat.inDat.SAMPSIZE" title="Permalink to this definition">¶</a></dt>
<dd><p>load random sample size</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="inDat.inDat.SEED">
<span class="sig-name descname"><span class="pre">SEED</span></span><a class="headerlink" href="#inDat.inDat.SEED" title="Permalink to this definition">¶</a></dt>
<dd><p>Default Seed for Random Sample</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="inDat.inDat.datProg">
<span class="sig-name descname"><span class="pre">datProg</span></span><a class="headerlink" href="#inDat.inDat.datProg" title="Permalink to this definition">¶</a></dt>
<dd><p>stage of data analysis</p>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="inDat.inDat.__init__">
<span class="sig-prename descclassname"><span class="pre">inDat.</span></span><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#inDat.inDat.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates object to import external data
:param exfile: path to external file</p>
</dd></dl>

<p>A separate method exists for loading subsequent files.</p>
<p>with each string containing a potential location, it can be loaded with this method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="inDat.inDat.loadrawfile">
<span class="sig-prename descclassname"><span class="pre">inDat.</span></span><span class="sig-name descname"><span class="pre">loadrawfile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#inDat.inDat.loadrawfile" title="Permalink to this definition">¶</a></dt>
<dd><p>load file extracted from raw source</p>
</dd></dl>

</section>
<section id="monitor-progress">
<h2><span class="sectnum">5.3</span> Monitor Progress<a class="headerlink" href="#monitor-progress" title="Permalink to this heading">¶</a></h2>
<p>An info method is available</p>
<dl class="py method">
<dt class="sig sig-object py" id="inDat.inDat.inDatinfo">
<span class="sig-prename descclassname"><span class="pre">inDat.</span></span><span class="sig-name descname"><span class="pre">inDatinfo</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#inDat.inDat.inDatinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>convience function to give quick look at the data
return 1 if rawfile read in 2 if there is a sample of it
-1 and something is wrong</p>
</dd></dl>

<p>This implementation is peculiar to this package, as returns a categorical variable indicating the stage of the processing of the data.  However, it does print to screen the summary data available at this stage.</p>
<section id="return-values-for-indatinfo-method">
<h3><span class="sectnum">5.3.1</span> Return Values for inDatinfo method<a class="headerlink" href="#return-values-for-indatinfo-method" title="Permalink to this heading">¶</a></h3>
<p>The method returns integer values from -1 to 4 which are stored in member constant datProg.  These values are intended to be indicators of progress in the machine learning exercise.  There interpretations are:</p>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">Return Values for inDatinfo</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Progress</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-1</p></td>
<td><p>Error</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Not Initialized</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>Raw Sample Only</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Single Sample</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Replacement Sampling</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>No Replacement Sampling</p></td>
</tr>
</tbody>
</table>
<p>In the above table we see six possible situations can exist.</p>
</section>
</section>
<section id="take-sample">
<h2><span class="sectnum">5.4</span> Take sample<a class="headerlink" href="#take-sample" title="Permalink to this heading">¶</a></h2>
<p>The primary purpose of the exercise is to produce a sample that is of a size amenable to analysis. A more secondary purpose is to support
statistical techniques that rely on bootstrapping.</p>
<dl class="py method">
<dt class="sig sig-object py" id="inDat.inDat.loadrandomsample">
<span class="sig-prename descclassname"><span class="pre">inDat.</span></span><span class="sig-name descname"><span class="pre">loadrandomsample</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#inDat.inDat.loadrandomsample" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>In the following example a random sample of 4 is the sample of 8.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Select 4 records from a sample of 8</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="n">testL1</span> <span class="o">=</span> <span class="n">inDat</span><span class="o">.</span><span class="n">inDat</span><span class="p">(</span><span class="s1">&#39;ex8.csv&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">testL1</span><span class="o">.</span><span class="n">inDat</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">testL1</span><span class="o">.</span><span class="n">inDat</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">16</span><span class="p">)</span>
        <span class="n">testS1</span> <span class="o">=</span> <span class="n">testL1</span><span class="o">.</span><span class="n">loadrandomsample</span><span class="p">(</span><span class="n">smpsize</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">testS1</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">testS1</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>TestL1 has a sample size of 8 as show by the value of shape[0].  A random sample of 4 is selected from TestL1 to create TestS1.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">CannuckFindReference</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html"><span class="sectnum">1</span> Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="KeyObjects.html"><span class="sectnum">2</span> Organization of Cannuckfind</a></li>
<li class="toctree-l1"><a class="reference internal" href="C3SC.html"><span class="sectnum">3</span> Functions to use SpaCy</a></li>
<li class="toctree-l1"><a class="reference internal" href="C3GP.html"><span class="sectnum">4</span> Functions to use GeoGrapy</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><span class="sectnum">5</span> Transform and Load Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#import-library"><span class="sectnum">5.1</span> Import Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="#openfile"><span class="sectnum">5.2</span> OpenFile</a></li>
<li class="toctree-l2"><a class="reference internal" href="#monitor-progress"><span class="sectnum">5.3</span> Monitor Progress</a></li>
<li class="toctree-l2"><a class="reference internal" href="#take-sample"><span class="sectnum">5.4</span> Take sample</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="C3GP.html" title="previous chapter"><span class="sectnum">4</span> Functions to use GeoGrapy</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Harold Henson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/DataTL.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>